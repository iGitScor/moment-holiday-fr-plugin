{"version":3,"file":"mh-plugin.js","sources":["../src/index.js"],"sourcesContent":["(function () {\n  const initialize = moment => {\n    moment.fn.easterStamp = function (Y) {\n      if (Y === undefined) {\n        Y = this.year();\n      }\n      var a = Y % 19;\n      var b = Math.floor(Y / 100);\n      var c = Y % 100;\n      var d = Math.floor(b / 4);\n      var e = b % 4;\n      var f = Math.floor((b + 8) / 25);\n      var g = Math.floor((b - f + 1) / 3);\n      var h = (19 * a + b - d - g + 15) % 30;\n      var i = Math.floor(c / 4);\n      var k = c % 4;\n      var l = (32 + 2 * e + 2 * i - h - k) % 7;\n      var m = Math.floor((a + 11 * h + 22 * l) / 451);\n      var n0 = (h + l + 7 * m + 114);\n      var n = Math.floor(n0 / 31) - 1;\n      var p = n0 % 31 + 1;\n      var date = new Date(Y, n, p);\n      return moment(date);\n    };\n\n    const holidays = [{\n      name: 'easterDay',\n      diff: 0\n    }, {\n      name: 'easterMonday',\n      diff: 1\n    }, {\n      name: 'ascension',\n      diff: 39\n    }, {\n      name: 'pentecost',\n      diff: 50\n    }, {\n      name: 'newYearsDay',\n      day: '1-1-'\n    }, {\n      name: 'laborDay',\n      day: '1-5-'\n    }, {\n      name: '8thMay',\n      day: '8-5-'\n    }, {\n      name: 'nationalDay',\n      day: '14-7-'\n    }, {\n      name: 'assumption',\n      day: '15-8-'\n    }, {\n      name: 'toussaint',\n      day: '1-11-'\n    }, {\n      name: 'armistice',\n      day: '11-11-'\n    }, {\n      name: 'christmas',\n      day: '25-12-'\n    }];\n\n    holidays.forEach(holiday => {\n      if (holiday.hasOwnProperty('diff')) {\n        moment.fn[holiday.name] = function (Y) {\n          if (Y === undefined) {\n            Y = this.year();\n          }\n          return moment.fn.easterStamp(Y).add(holiday.diff, 'days');\n        };\n      } else if (holiday.hasOwnProperty('day')) {\n        moment.fn[holiday.name] = function (Y) {\n          if (Y === undefined) {\n            Y = this.year();\n          }\n          return moment(`${holiday.day}${Y}`, 'DD-MM-YYYY');\n        };\n      }\n    });\n\n    moment.fn.getHoliday = function () {\n      for (var key of holidays) {\n        if (moment.fn.hasOwnProperty(key.name)) {\n          if (this.isSame(moment.fn[key.name].call(this), 'days')) {\n            return key;\n          }\n        }\n      }\n      return null;\n    };\n\n    moment.fn.lastWorkingDay = function () {\n      let lastWorkDay = this.startOf('day');\n      while (!lastWorkDay.isWorkingDay()) {\n        lastWorkDay = lastWorkDay.subtract(1, 'day');\n      }\n\n      return lastWorkDay;\n    }\n\n    moment.fn.nextWorkingDay = function () {\n      let nextWorkDay = this.startOf('day');\n      while (!nextWorkDay.isWorkingDay()) {\n        nextWorkDay = nextWorkDay.add(1, 'day');\n      }\n\n      return nextWorkDay;\n    }\n\n    moment.fn.isHoliday = function () { return (this.getHoliday() !== null) };\n    moment.fn.isWeekEnd = function () { return (this.day() === 0 || this.day() === 6) };\n    moment.fn.isWorkingDay = function () { return (!this.isWeekEnd() && !this.isHoliday()) };\n\n    return moment;\n  };\n\n  if (typeof define === 'function' && define.amd) {\n    define('moment-ferie-fr', ['moment'], function (moment) {\n      return this.moment = initialize(moment);\n    });\n  } else if (typeof module !== 'undefined') {\n    module.exports = initialize(require('moment'));\n  }\n}).call();\n"],"names":["initialize","moment","fn","easterStamp","Y","Math","floor","year","a","b","c","d","f","g","h","i","l","m","n0","n","date","Date","holidays","forEach","holiday","hasOwnProperty","name","add","diff","day","getHoliday","key","isSame","call","lastWorkingDay","lastWorkDay","startOf","isWorkingDay","subtract","nextWorkingDay","nextWorkDay","isHoliday","isWeekEnd","define","amd","module","exports","require"],"mappings":"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"}